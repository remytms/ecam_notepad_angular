<div class="container">

  <div class="page-header">
    <div class="btn-toolbar pull-right">

      <button class="btn btn-lg btn-default"
        (click)="initNewCategory()">
        <i class="glyphicon glyphicon-plus"></i>
        Add category
      </button>

      <a routerLink="/notes"
         routerLinkActive="active"
         class="btn btn-lg btn-default">
        Notes
      </a>

    </div>

    <h1>{{ title }}</h1>

  </div>

  <table class="table table-striped">
    <tr *ngFor="let category of categories; let i = index;">
      <td>
        <span *ngIf="category_edited != i">
          {{ category.name }}
        </span>
        <input id="title" 
               type="text" 
               class="form-control" 
               required="true"
               *ngIf="category_edited == i"
               [(ngModel)]="category.name"/>
      </td>
      <td class="text-right">
        <button class="btn btn-sm btn-success"
                (click)="updateCategory(category, i)"
                *ngIf="category_edited == i">
          Validate
        </button>
        <button class="btn btn-sm btn-default"
                (click)="category_edited = -1"
                *ngIf="category_edited == i">
          Close
        </button>
        <button class="btn btn-sm btn-default"
                (click)="category_edited = i"
                *ngIf="category_edited != i">
          <i class="glyphicon glyphicon-pencil"></i>
          Modify
        </button>
        <button class="btn btn-sm btn-default"
                (click)="deleteCategory(category, i)">
          <i class="glyphicon glyphicon-trash"></i>
          Delete
        </button>
      </td>
    </tr>
    <tr *ngIf="new_category">
      <td>
        <input id="title" 
               type="text" 
               class="form-control" 
               required="true"
               [(ngModel)]="new_category.name"/>
      </td>
      <td class="text-right">
        <button class="btn btn-sm btn-success"
                (click)="newCategory(new_category)">
          Validate
        </button>
        <button class="btn btn-sm btn-default"
                (click)="deleteNewCategory()">
          Close
        </button>
      </td>
    </tr>
  </table>

    <!-- Note form
    <div class="pannel form"
         *ngIf="note_edited == i">
      <div class="form-group">
        <label for="title" class="control-label">Title</label>
        <input id="title" 
               type="text" 
               class="form-control" 
               required="true"
               [(ngModel)]="note.title"/>
      </div>
      <div class="form-group">
        <label for="content" class="control-label">Content</label>
        <textarea id="content" 
                  class="form-control" 
                  required="true"
                  [(ngModel)]="note.content">
        </textarea>
      </div>
      <button class="btn btn-success" (click)="validate(note)">
        Validate
      </button>
      <button class="btn btn-default" (click)="note_edited = -1">
        Close
      </button>
    </div>
    -->

</div>
